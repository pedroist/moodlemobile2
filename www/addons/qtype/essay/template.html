<section class="list" ng-if="question.text || question.text === ''">
    <div class="item item-text-wrap">
        <p><mm-format-text watch="true" class="mm-content-with-float" component="{{component}}" component-id="{{componentId}}">{{ question.text }}</mm-format-text></p>
    </div>
    <ion-input class="item item-input" ng-if="textarea && !hasDraftFiles" ng-class='{"mm-item-has-rich-text-editor": !isPlainText}'>
		<!-- "Format" hidden input -->
		<input ng-if="formatInput" type="hidden" name="{{formatInput.name}}" value="{{formatInput.value}}" >
        <!-- Plain text textarea. -->
        <textarea ng-if="isPlainText" class="mm-question-textarea" ng-class='{"mm-monospaced": isMonospaced}' placeholder="{{ 'mm.question.answer' | translate }}" name="{{textarea.name}}" aria-multiline="true">{{textarea.text}}</textarea>
        <!-- Rich text editor. -->
        <mm-rich-text-editor ng-if="!isPlainText" model="textarea" placeholder="{{ 'mm.question.answer' | translate }}" name="{{textarea.name}}" scroll-handle="{{scrollHandle}}" component="{{component}}" component-id="{{componentId}}"></mm-rich-text-editor>
    </ion-input>
    <div ng-if="textarea && hasDraftFiles" class="item item-text-wrap">
        <p class="mm-question-warning">{{ 'mm.question.errorinlinefilesnotsupported' | translate }}</p>
    </div>
    <div ng-if="textarea && hasDraftFiles" class="item item-text-wrap">
        <p><mm-format-text watch="true" class="mm-content-with-float" component="{{component}}" component-id="{{componentId}}">{{textarea.text}}</mm-format-text></p>
    </div>
    <div class="item item-text-wrap" ng-if="allowsAttachments">
		<ion-view view-title="{{title}}" ng-controller="mmFileUploaderPickerCtrl">
			<ion-content mm-state-class>
				<div class="list">
					<a class="item" ng-click="upload('album', true)">
						{{ 'mm.fileuploader.photoalbums' | translate }}
					</a>
					<a class="item" ng-click="upload('camera', false)">
						{{ 'mm.fileuploader.camera' | translate }}
					</a>
					<a class="item" ng-click="upload('audio', true)">
						{{ 'mm.fileuploader.audio' | translate }}
					</a>
					<a class="item" ng-click="upload('video', false)">
						{{ 'mm.fileuploader.video' | translate }}
					</a>
					<div class="item" ng-if="isAndroid">
						{{ 'mm.fileuploader.file' | translate }}
						<input class="mm-fileuploader-picker" type="file" mm-file-uploader-on-change="uploadFile"> <!-- Hidden input, intercepts clicks on button-->
					</div>
					<a ng-repeat="handler in handlers | orderBy:'-priority'" ng-controller="handler.controller" class="item mm-file-uploader-handler {{class}}" ng-click="handlerClicked($event, action)" ng-class='{"item-icon-left": icon}' title="{{title}}">
						<i class="icon {{icon}}" ng-if="icon"></i>
							{{title | translate}}
					</a>
				</div>
			</ion-content>
		</ion-view>
		
		<!--<ion-content ng-controller="mmaCameraCtrlQtypeEssay"></ion-content>
		-->
        <p class="mm-question-warning">{{ 'mm.question.errorattachmentsnotsupported' | translate }}</p>
    </div>
    <div class="item item-text-wrap" ng-if="!textarea && (answer || (!attachments.length && !allowsAttachments))">
    	<p><mm-format-text watch="true" ng-class='{"mm-monospaced": isMonospaced}' class="mm-content-with-float" component="{{component}}" component-id="{{componentId}}">{{answer}}</mm-format-text></p>
    </div>
    <div class="item" ng-if="!textarea && attachments && attachments.length">
    	<mm-file ng-repeat="attachment in attachments" file="attachment" component="{{component}}" component-id="{{componentId}}"></mm-file>
    </div>
</section>
